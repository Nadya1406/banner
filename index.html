<!DOCTYPE html>
<html>
<head>
    <title>banner</title>
    <style type="text/css">
    @font-face { font-family: 'Conv_Core'; src: url('fonts/Core Sans N 15 Thin.eot'); src: local('☺'), url('fonts/Core Sans N 15 Thin.woff') format('woff'), url('fonts/Core Sans N 15 Thin.ttf') format('truetype'), url('fonts/Core Sans N 15 Thin.svg') format('svg'); font-weight: normal; font-style: normal; } .canva { position: relative; } .button{ font-family: Conv_Core; font-weight: 600; font-size: 16px; z-index: 50; position:absolute; left:41.5px; top:320px; text-decoration: none; text-align: center; border-radius: 5px; color: #000; width: 157px; height: 35px; border: 2px solid #fff; line-height: 35px; background: rgba(250,250,250, 0.5); letter-spacing: 1.3px; } #banner1 { border: 1px solid #000; background:#47433a; z-index: 3; } #banner2 { border: 1px solid #000; background:#e7e8ea; z-index: 2; } .banner { position:absolute; left:0px; top:0px; } .text { z-index: 50; position:absolute;
            font-family: Conv_Core;
            font-size: 17px;
            text-align: center;
            letter-spacing: 1.3px;
            font-weight: 500;
            left:25px;
            line-height: 1.7;
            top:250px;
            color: #fff;
         }
        #example, #example1 { display: none; } #example .new{opacity: 0;} #example .div_opacity{ -webkit-transition: opacity .1s ease-in-out; -moz-transition: opacity .1s ease-in-out; -ms-transition: opacity .1s ease-in-out; -o-transition: opacity .1s ease-in-out; transition: opacity .1s ease-in-out; opacity: 1; } #example1 .new{opacity: 0;} #example1 .div_opacity{ -webkit-transition: opacity .1s ease-in-out ; -moz-transition: opacity .1s ease-in-out ; -ms-transition: opacity .1s ease-in-out ; -o-transition: opacity .1s ease-in-out ; transition: opacity .1s ease-in-out ; opacity: 1 } .test { font-family: Conv_Core; display: none; } .text2 { display: none; z-index: 50; position:absolute; font-size: 16px; text-align: left; letter-spacing: 1.3px; font-weight: 600; left:90px; top:50px; line-height: 1.7; color: #000; } @-webkit-keyframes blink6 { 10% { transform: scale(1, 1) rotate(80deg); } 20% { transform: scale(0, 0) rotate(160deg); } 100% { transform: scale(0, 0) rotate(0deg); } } @keyframes blink6 { 10% { transform: scale(1, 1) rotate(80deg); } 20% { transform: scale(0, 0) rotate(160deg); } 100% { transform: scale(0, 0) rotate(0deg); } } #blink6 { padding-top:15px; padding-bottom:15px; display: inline-block; color: #fff; text-shadow: 0 0 10px #3d7a97; } #blink6:after, #blink6:before { content: ""; position: absolute; display: block; width: 100px; height: 100px; background-image: radial-gradient(rgba(255, 255, 255, 1), rgba(255, 255, 255, 0) 30%), linear-gradient(45deg, rgba(0, 0, 0, 0) 49%, rgba(255, 255, 255, .4) 50%, rgba(0, 0, 0, 0) 51%), linear-gradient(135deg, rgba(0, 0, 0, 0) 49%, rgba(255, 255, 255, .4) 50%, rgba(0, 0, 0, 0) 51%); -webkit-animation: blink6 3s linear infinite; animation: blink6 3s linear infinite; transform: scale(0, 0) rotate(0deg); } #blink6:after { top: 55px; left: 150px; z-index: 55; } #blink6:before { z-index: 55; -webkit-animation-delay: 2s; animation-delay: 2s; } .geo { width: 9%; }
</style>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
</head>

<body>
    <div class="canva">
        <a href="http://imperiasky.ru/" class="button">Узнать больше</a>
        <div id="blink6">
            <canvas class="banner" id="banner1" width="240" height="400"></canvas>
        </div>
        <canvas class="banner" id="banner2" width="240" height="400"></canvas>
        <div class="text">
            <div id="example">Ваша свадьба </div>
            <div id="example1">на высоте 250 метров</div>
        </div>
        <div class="text2">
            <div class="test">✔ Тренинги</div>
            <div class="test">✔ Презентации</div>
            <div class="test">✔ Конференции</div>
            <div class="test"><img src="geo.png" class="geo"> МОСКВА-СИТИ</div>
        </div>
        <div>
            <span class="test"></span>
            <script type="text/javascript">
            $(document).ready(function() {

                $.fn.animate_Text = function() {
                    var string = this.text();

                    return this.each(function() {
                        var $this = $(this);
                        $this.html(string.replace(/./g, '<span class="new">$&</span>'));
                        $this.find('span.new').each(function(i, el) {
                            setTimeout(function() { $(el).addClass('div_opacity'); }, 40 * i);
                        });
                    });
                };

            })
            </script>
            <script type="text/javascript">
            var logo = new Image();
            logo.src = 'logo-blk.png';

            var img2 = new Image();
            img2.src = 'business.JPG';

            var img = new Image();
            img.src = 'wedding.jpg';


            var CanvasXSize = 240;
            var CanvasYSize = 400;
            var speed2 = 60;
            var speed = 10;
            var scale2 = 0.45;
            var scale = 0.3;

            var y = 1.5;

            var dx = 0.50;
            var imgW;
            var imgH;

            var img2W;
            var img2H;

            var x = 0;
            var x2 = 0;
            var clearX;
            var clearY;
            var clearX2;
            var clearY2;
            var ctx;


            img.onload = function() {
                imgW = img.width * scale;
                imgH = img.height * scale;

                ctx = document.getElementById('banner1').getContext('2d');

                ctx.drawImage(img, x - 320, y, imgW, imgH);


                $('#example').show();
                $('#example1').show();
                setInterval(function() {
                    $('#example').animate_Text();
                    $('#example1').animate_Text();
                }, 1400)



            }


            function draw1() {
                ctx.clearRect(0, 0, clearX, clearY);

                if (imgW <= CanvasXSize) {
                    if (x > (CanvasXSize)) { x = 0; }

                    if (x > (CanvasXSize - imgW)) { ctx.drawImage(img, x - CanvasXSize + 1, y, imgW, imgH); }
                } else {
                    if (x > (CanvasXSize)) { x = CanvasXSize - imgW; }

                    if (x > (CanvasXSize - imgW)) { ctx.drawImage(img, x - imgW + 230, y, imgW, imgH); }
                }

                ctx.drawImage(img, x + 230, y, imgW, imgH);

                x += dx;
            }

            img2.onload = function() {
                img2W = img2.width * scale2;
                img2H = img2.height * scale2;

                ctx2 = document.getElementById('banner2').getContext('2d');


            }


            logo.onload = function() {
                var clear = setInterval(function() {
                    if (typeof ctx !== "undefined") {
                        clearInterval(clear);
                        ctx2.drawImage(logo, -2, 50, logo.width * 0.7, logo.height * 0.7);
                    }
                }, 10);
            }

            function draw2() {

                ctx2.clearRect(0, 0, clearX2, clearY2);

                if (img2W <= CanvasXSize) {

                    if (x2 > (CanvasXSize)) { x2 = 0; }

                    if (x2 > (CanvasXSize - img2W)) { ctx2.drawImage(img2, x2 - CanvasXSize + 1, CanvasYSize / 2, img2W, img2H); }
                } else {

                    if (x2 > (CanvasXSize)) { x2 = CanvasXSize - img2W; }

                    if (x2 > (CanvasXSize - img2W)) { ctx2.drawImage(img2, x2 - img2W + 1, CanvasYSize / 2, img2W, img2H); }
                }

                ctx2.drawImage(img2, x2, CanvasYSize / 2, img2W, img2H);

                x2 += dx;
            }


            setInterval(function() {
                var banner2 = document.getElementById("banner2");

                if (banner2.style.zIndex == 1) {
                    document.querySelector(".button").style.display = "none";
                    banner2.style.zIndex = 5;
                    $('#example').hide();
                    $('#example1').hide();
                    $(".text2").show();
                    $("#blink6").addClass("bbbb");
                    $("#blink6").removeAttr("id");
                    $(".test").each(function(index) {
                        $(this).delay(700 * index).fadeIn(700);
                    })

                    setInterval(draw2, speed2);

                } else {
                    $(".bbbb").attr("id", "blink6");
                    $(".bbbb").removeClass("bbbb");
                    document.querySelector(".button").style.display = "block";

                    $('#example').show();
                    $('#example1').show();
                    $(".text2").hide();

                    $(".test").attr("style", "display:none");



                    banner2.style.zIndex = 1;

                }

            }, 4000);
            </script>
</body>

</html>